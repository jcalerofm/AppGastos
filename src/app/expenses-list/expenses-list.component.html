<div class="container">
  <div class="row">
    <div class="col-md-9">
      <div id="listado">
        <table class="table">
          <thead>
            <tr>
              <th scope="col-md-3" (click)="onHeaderClick('date')">Fecha <i class="fa-solid fa-sort"></i></th>
              <th scope="col-md-3" (click)="onHeaderClick('concept')">Concepto <i class="fa-solid fa-sort"></i></th>
              <th scope="col-md-3" (click)="onHeaderClick('category')">Categoría <i class="fa-solid fa-sort"></i></th>
              <th scope="col-md-3" (click)="onHeaderClick('amount')">Importe <i class="fa-solid fa-sort"></i></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let expense of expenses">
              <td>{{ expense.date | formatDate }}</td>
              <td>{{ expense.concept }}</td>
              <td>{{ expense.category }}</td>
              <td>{{ expense.amount }} €</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="total-expenses">
        <h3>TOTAL GASTOS: {{ totalExpensesAmount }} €</h3>
      </div>
    </div>
    <div class="col-md-3">
      <aside class="filters-container">
        <h4 class="text-center">Filtros</h4>
        <button class="full-width" (click)="toggleFilter('month')">Filtrar por mes</button>
        <form *ngIf="selectedFilter === 'month'" (submit)="filterByMonth()">
          <!-- Aquí va el código del formulario de filtro por mes -->
          <label for="month">Mes:</label>
          <input type="number" id="month" [(ngModel)]="filterMonth" name="month" min="1" max="12">
          <label for="year">Año:</label>
          <input type="number" id="year" [(ngModel)]="filterYear" name="year" min="1900">
          <button class="filter-button" type="submit">Filtrar</button>
        </form>
        <button class="full-width" (click)="toggleFilter('category')">Filtrar por categoría</button>
        <form *ngIf="selectedFilter === 'category'" (submit)="filterByCategory()">
          <!-- Aquí va el código del formulario de filtro por categoría -->
          <label for="category">Categoría:</label>
          <select id="category" [(ngModel)]="filterCategory" name="category">
            <option *ngFor="let cat of arrayCategoria" [value]="cat">{{ cat }}</option>
          </select>
          <button class="filter-button" type="submit">Filtrar</button>
        </form>
        <button class="full-width" (click)="toggleFilter('categoryAndMonth')">Categoría y mes</button>
        <form *ngIf="selectedFilter === 'categoryAndMonth'" (submit)="filterByCategoryAndMonth()">
          <!-- Aquí va el código del formulario de filtro por categoría y mes -->
          <label for="categoryAndMonthCategory">Categoría:</label>
          <select id="categoryAndMonthCategory" [(ngModel)]="filterCategoryAndMonthCategory"
            name="categoryAndMonthCategory">
            <option *ngFor="let cat of arrayCategoria" [value]="cat">{{ cat }}</option>
          </select>
          <label for="categoryAndMonthMonth">Mes:</label>
          <input type="number" id="categoryAndMonthMonth" [(ngModel)]="filterCategoryAndMonthMonth"
            name="categoryAndMonthMonth" min="1" max="12">
          <label for="categoryAndMonthYear">Año:</label>
          <input type="number" id="categoryAndMonthYear" [(ngModel)]="filterCategoryAndMonthYear"
            name="categoryAndMonthYear" min="2022">
          <button class="filter-button" type="submit">Filtrar</button>
        </form>
        <button class="full-width clear-filters" (click)="clearFilters()">Limpiar Filtros</button>

      </aside>
    </div>
  </div>
</div>
<br><br>
